# JavaScript学习网站 - 笔记管理功能使用说明

## 功能概述

本网站的笔记管理功能支持上传Markdown文件并自动转换为美观的HTML页面。根据您的浏览器支持情况，提供两种文件保存方式：

## 使用方法

### 1. 上传Markdown文件

1. 在"学习笔记"模块中，点击"选择文件"按钮或直接拖拽文件到上传区域
2. 选择您的Markdown文件（支持.md和.markdown格式）
3. 系统会自动处理文件并生成HTML版本

### 2. HTML文件生成与保存

系统支持两种保存方式，首次使用时会询问您的偏好：

#### 方式一：目录选择保存（推荐）
- **适用浏览器**：Chrome 86+、Edge 86+等支持File System Access API的现代浏览器
- **操作步骤**：
  1. 首次上传时，选择"目录选择"方式
  2. 系统会弹出文件夹选择对话框，选择项目的`src`文件夹
  3. 可选择是否记住该目录，记住后后续文件会自动保存到该位置
  4. HTML文件会直接保存到指定文件夹中

#### 方式二：下载保存
- **适用情况**：所有浏览器，或用户偏好下载方式
- **操作步骤**：
  1. 选择"下载"方式
  2. HTML文件会自动下载到浏览器默认下载位置
  3. 手动将下载的HTML文件移动到项目的`src`文件夹中
  4. 确保文件名保持不变（格式：`note_xxx.html`）

#### 保存偏好管理
- 系统会记住您选择的保存方式
- 如需更改保存方式，点击"重置保存偏好"按钮
- 重置后下次上传时会重新询问保存偏好

### 3. 浏览笔记
- 点击"浏览所有笔记"按钮查看笔记目录
- 在搜索结果中点击笔记标题
- 系统会在新标签页中打开完整的HTML页面

## 文件结构

```
project/
├── index.html          # 主页面
├── src/                # 笔记HTML文件存储目录
│   ├── index.html      # 笔记目录页面
│   └── note_xxx.html   # 生成的笔记HTML文件
├── scripts/            # JavaScript文件
├── styles/             # CSS样式文件
└── 使用说明.md         # 本说明文件
```

## 注意事项

1. **文件夹选择**：使用现代浏览器时，请务必选择正确的`src`文件夹
2. **文件权限**：确保浏览器有写入文件的权限
3. **文件名**：生成的HTML文件名格式为`note_[ID].html`，请勿修改
4. **浏览器兼容性**：建议使用Chrome、Edge或Firefox的最新版本

## 故障排除

### 问题：文件没有保存到src文件夹
**解决方案**：
- 检查是否选择了正确的文件夹
- 尝试刷新页面后重新上传
- 如果问题持续，请使用下载方式并手动移动文件

### 问题：无法打开生成的HTML文件
**解决方案**：
- 确保HTML文件位于`src`文件夹中
- 检查文件名是否正确
- 尝试直接在浏览器中打开文件

### 问题：样式显示不正确
**解决方案**：
- 确保`styles/main.css`文件存在
- 检查文件路径是否正确
- 确保在本地服务器环境下运行

## 技术说明

- 使用File System Access API实现现代浏览器的直接文件写入
- 降级到Blob下载方案确保兼容性
- 生成的HTML文件包含完整的样式和交互功能
- 支持代码高亮和一键复制功能

如有其他问题，请检查浏览器控制台的错误信息。